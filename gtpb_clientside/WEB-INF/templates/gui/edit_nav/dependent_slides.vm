#set($sessionTable = $sessionData.getTable())
#set($primaryKey = $sessionTable.getPrimaryKey())
#set($sessionRowId = $sessionData.getRowId())
#set($dependentTables = $view.getDirectlyDependentTables($sessionTable))
#foreach($dependentTable in $dependentTables)
#if($view.loggedInUserAllowedTo("VIEW_TABLE_DATA", $dependentTable))
  #set($linkingReports = [])
  #set($reports = $dependentTable.getReports())
  #foreach($report in $reports)
    #if(($report.getReportBaseFields().contains($primaryKey)) && (!$report.getReportName().contains("dbvcalc")) && (!$report.getReportName().contains("dbvcrit")))
      #set($success = $linkingReports.add($report))
    #end
  #end
  #if($linkingReports.size() > 0)
    #set($report = $linkingReports.get(0))
    #set($filters = $viewTools.getNewFilterMap())
    #set($success = $filters.put($primaryKey, "$sessionRowId"))
    #set($reportDataRows = $view.getReportDataRows($report, 100, $filters, true))##
    #if($reportDataRows.size() > 0)
    <div class="slide reportDataView" id="slide_$dependentTable.getInternalTableName()">
      <img class="rewind" src="resources/edit_nav/rewind.png" />
      <section class="middle"> 
        <div class="title">
        ##$dependentTable.getSimpleName()
        ##<select name="$dependentTable.getInternalTableName()_select">
        ##  #foreach($report in $linkingReports)
        ##    <option value="$report.getInternalReportName()">$report.getModule() - $report</option>
        ##  #end
        ##  <option value="$dependentTable.getDefaultReport().getInternalReportName()">all records</option>
        ##</select>
        $report.getModule() - $report
        </div>
        #parse("gui/edit_nav/report_content.vm")
      </section>
    </div>
    #end
  #end
#end
#end
