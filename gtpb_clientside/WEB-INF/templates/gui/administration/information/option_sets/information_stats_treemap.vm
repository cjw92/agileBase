<html>
	<head>
#literal()
<style>
#infovis {  
    position:relative;  
    width:1000px;  
    height:600px;  
    margin:auto;  
    background-color:#1D1D20;
	font-size:9pt;
	font-face: Arial, Helvetica, sans-serif;
}  
  
#infovis div {  
    position:absolute;  
    overflow:hidden;  
}  
  
#infovis .content {  
    background-color:#333;  
    border:0px solid #111;  
}  
  
#infovis .head {  
    height:12px;  
    color:white;  
    background-color:#444;  
}  
  
#infovis .head.in-path {  
    background-color:#655;  
}  
  
#infovis .body {  
    background-color:black;
	background-color: white;
}  
  
#infovis .leaf {  
    color:white;  
    background-color:#111;  
    display:table-cell;  
    vertical-align:middle;  
}  
  
#infovis .over-leaf {  
    border:1px solid #9FD4FF;  
}  
  
#infovis .over-content {  
    background-color: #9FD4FF;  
}  
  
#infovis .over-head { /* ...boy i'm funny */  
    background-color:#A4D9FF;  
    color:black;  
}  
  
/* tooltips style */  
.tip {  
    color: black;  
    z-index: 13000;  
    background-color: white;  
    padding:5px;  
    position:absolute;  
}  
</style>
#end ##end literal
<script language="JavaScript" src="resources/jquery.js"></script>
<script language=Javascript src="resources/jit.js"></script>
#set($treeMap = $viewMethods.getUsageStats().getTreeMap())
<script language="JavaScript">
#literal()
$(document).ready(function(){
#end
   var json = $viewMethods.getUsageStats().getTreeMapJSON();
		
    var tm = new TM.Squarified({  
                //Where to inject the Treemap  
                rootId: 'infovis',
				addLeftClickHandler: true,
				Color: {  
        			//Allow coloring  
        			allow: true,  
        			//Select a value range for the $color  
    			    //property. Default's to -100 and 100.  
     			    minValue: -1000,  
     			    maxValue: 1000,  
        			//Set color range. Default's to reddish and  
        			//greenish. It takes an array of three  
        			//integers as R, G and B values.  
        			maxColorValue: [0, 255, 50],  
        			minColorValue: [255, 0, 50]  
     			},
				Tips: {  
       				allow: true,  
       				//add positioning offsets  
       				offsetX: 20,  
       				offsetY: 20,  
       				//implement the onShow method to  
       				//add content to the tooltip when a node  
       				//is hovered  
       				onShow: function(tip, node, isLeaf, domElement) {
						if (isLeaf) {
           					tip.innerHTML = "<b>name:</b> " + node.name;
						} else {
							tip.innerHTML = node.name;
						}
       				}  
				}
             });  
    tm.loadJSON(json);
});
</script>
</head>
<body>
<div id="infovis" /> 
</body>
</html>